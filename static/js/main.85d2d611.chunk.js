(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){},40:function(e,t,a){e.exports=a.p+"static/media/tuan-nguyen-1176823-unsplash.af970609.jpg"},41:function(e,t,a){e.exports=a.p+"static/media/luca-micheli-422053-unsplash.b374ccfe.jpg"},42:function(e,t,a){e.exports=a.p+"static/media/remi-yuan-569408-unsplash.b1c181cf.jpg"},45:function(e,t,a){e.exports=a(85)},82:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),l=a(23),o=a.n(l),c=(a(29),a(2)),i=a(3),m=a(5),u=a(4),d=a(6),h=a(89),p=a(59),E=a(88),f=a(90),g=a(9),b=a(27);function v(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return fetch(t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(a)}).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw e});throw{errorMessage:"Please try again later, server is not responsed"}}return e.json()})}var y="https://mighty-waters-27861.herokuapp.com/",N="SET_DATE",O="SET_CURRENT_USER",w="SEND_SEARCH",k=function(e){return{type:"ADD_ERROR",error:e}},j=function(){return{type:"REMOVE_ERROR"}};function C(e){return{type:O,user:e}}function x(e){!function(e){e&&(n=e)}(e)}var S=function(e){return{type:"LOAD_HOUSES",houses:e}},D=function(e){return{type:"LOADING",loading:e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(a){a(D(!0));var n="";if(e&&(n=e),Object.keys(t).length>1){var r=parseInt(t.adult)+parseInt(t.child);n="?search=1".concat(t.geometry?"&geometry="+t.geometry.lat+","+t.geometry.lng:"").concat(r?"&accommodate="+r:"","&date=").concat(t.date?t.date.join(","):"")}return v("get","".concat(y,"api/house/").concat(n)).then(function(e){a(S(e))}).catch(function(e){return e.error?a(k(e.error.message)):a(k(e))})}};function I(e){return{type:N,date:e}}var _=function(e){return{type:"SELECT_HOUSE",house:e}},M=function(){return{type:"CLEAR_SELECT"}};function H(e){return{type:w,searchKeys:e}}var T=a(18),R=a.n(T),A=a(15),F=a(7),P=a(19),L=a(12),W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.state={adult:1,child:0,distination:"",begin:"",end:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({adult:this.props.search.adult,child:this.props.search.child,distination:this.props.search.distination?this.props.search.distination:""})}},{key:"handleSubmit",value:function(){var e=Object(P.a)(R.a.mark(function e(t){var a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(Object(F.a)({},this.state)),a="",!this.state.distination){e.next=7;break}return e.next=6,fetch("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(this.state.distination,"&key=AIzaSyAjQDTCdLCWo2JBZiosUYNEox7R92t_Ts4")).then(function(e){return e.json()}).then(function(e){return e.results[0].geometry.location});case 6:a=e.sent;case 7:this.props.sendSearch(Object(F.a)({},this.state,{geometry:a})),this.props.getHouse("",Object(F.a)({},this.state,{date:Object(A.a)(this.props.date),geometry:a})),"/Houses"!==this.props.location.pathname&&this.props.history.push("/houses");case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("form",{style:{background:"rgba(22,22,22,0.7)",color:"#fff"},className:"p-3 shadow rounded",onSubmit:this.handleSubmit.bind(this)},s.a.createElement("h3",{style:{color:"white"}},"Plan your next jounery"),s.a.createElement("hr",null),s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"adultNum"},"Adult"),s.a.createElement("select",{className:"form-control",id:"adultNum",name:"adult",onChange:this.handleChange,value:this.state.adult},s.a.createElement("option",null,"1"),s.a.createElement("option",null,"2"),s.a.createElement("option",null,"3"),s.a.createElement("option",null,"4"),s.a.createElement("option",null,"5"),s.a.createElement("option",null,"6"))),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"childrenNum"},"Child"),s.a.createElement("select",{className:"form-control",id:"childrenNum",name:"child",onChange:this.handleChange},s.a.createElement("option",null,"0"),s.a.createElement("option",null,"1"),s.a.createElement("option",null,"2"),s.a.createElement("option",null,"3"),s.a.createElement("option",null,"4"),s.a.createElement("option",null,"5"),s.a.createElement("option",null,"6")))),s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"beginDay"},"start"),s.a.createElement("input",{type:"date",className:"form-control",name:"firstDay",id:"beginDay",value:this.state.begin,readOnly:!0,placeholder:"First Day"})),s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"endDay"},"to"),s.a.createElement("input",{type:"date",className:"form-control",name:"lastDay",id:"endDay",value:this.state.end,readOnly:!0,placeholder:"Last Day"}))),s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"inputCity"},"distination"),s.a.createElement("input",{type:"text",className:"form-control",name:"distination",id:"inputCity",onChange:this.handleChange,value:this.state.distination}))),s.a.createElement("button",{type:"submit",className:"btn btn-primary col-12"},"Find House"))}}],[{key:"getDerivedStateFromProps",value:function(e){if(e.date[0]){var t=new Date(e.date[0]),a=new Date(e.date[e.date.length-1]+864e5);return{begin:"".concat(t.getFullYear(),"-").concat(Math.floor((t.getMonth()+1)/10)).concat((t.getMonth()+1)%10,"-").concat(Math.floor(t.getDate()/10)).concat(t.getDate()%10),end:"".concat(a.getFullYear(),"-").concat(Math.floor((a.getMonth()+1)/10)).concat((a.getMonth()+1)%10,"-").concat(Math.floor(a.getDate()/10)).concat(a.getDate()%10)}}return{begin:"yyyy-MM-dd",end:"yyyy-MM-dd"}}}]),t}(r.Component);var z=Object(f.a)(Object(g.b)(function(e){return{date:e.date,search:e.search}},{sendSearch:H,getHouse:U})(W)),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.selected?a.props.setDate(a.props.date.filter(function(e){return e!==a.props.time})):a.props.setDate(Object(A.a)(a.props.date).concat([a.props.time]))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.unavailableDate?s.a.createElement("div",{className:"text-center pointer",style:{width:"70px",color:"white",background:"#094074",border:this.props.date.indexOf(parseInt(this.props.time))>-1?"1px soild black":"",transition:"0.2s"},"data-time":this.props.time},this.props.monthDate):s.a.createElement("div",{className:"text-center pointer",style:{width:"70px",color:this.props.selected?"white":"black",background:this.props.selected?"#FE9000":"",border:this.props.date.indexOf(parseInt(this.props.time))>-1?"1px soild black":"",transition:"0.2s"},"data-time":this.props.time,onClick:this.handleClick},this.props.monthDate)}}]),t}(r.Component),q=[31,29,31,30,31,30,31,31,30,31,30,31],B=[31,28,31,30,31,30,31,31,30,31,30,31],J=["January","Febrary","March","April","May","June","July","Auguest","September","October","November","December"],X=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={showYear:"",showMonth:"",today:"",dateData:[],dataIndicate:0,firstClick:!0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=new Date,t=this.addMonthDate(e.getFullYear(),e.getMonth());this.setState({showYear:e.getFullYear(),showMonth:e.getMonth(),showDate:e.getDate(),today:e.getTime(),dateData:t})}},{key:"componentDidMount",value:function(){(this.props.unavailableDate||this.props.setUnavailableDate)&&(this.props.setDate([]),this.setState({dateData:this.state.dateData.map(function(e){return Object(F.a)({},e,{select:!1})})}))}},{key:"getStartWeekDay",value:function(e,t){return new Date(e,t,1).getDay()}},{key:"getMonthDate",value:function(e,t){return e%4===0&&e%100!==0||e%400===0&&e%3200!==0?q[t]:B[t]}},{key:"addMonthDate",value:function(e,t){for(var a=this.state.dateData.splice(""),n=this.getMonthDate(e,t),r=this.getStartWeekDay(e,t),s=42-r-n,l=this.props.date,o=0;o<r;o++)a.push({year:e,month:t,monthDate:-1,select:!1});for(var c=0;c<n;c++){var i=new Date(e,t,c+1).getTime();a.push({year:e,month:t,monthDate:c,time:new Date(e,t,c+1).getTime(),select:!(l.indexOf(i)<0)})}for(var m=0;m<s;m++)a.push({year:e,month:t,monthDate:-1,select:!1});return a}},{key:"createElem",value:function(e){for(var t=this.state.dateData,a=42*e,n=[],r=a;r<a+42;r++)t[r].monthDate+1!==0?t[r].time<this.state.today?n.push(s.a.createElement("div",{className:"text-center",style:{width:"70px",color:"rgba(0,0,0,0.5)"},key:r},t[r].monthDate+1)):this.props.unavailableDate?n.push(this.props.unavailableDate.indexOf(parseInt(t[r].time))>-1?s.a.createElement("div",{className:"text-center pointer",style:{width:"70px",color:"white",background:"#094074"},key:r,"data-time":t[r].time},t[r].monthDate+1):s.a.createElement("div",{className:"text-center pointer",style:{width:"70px",color:t[r].select?"white":"black",background:t[r].select?"#FE9000":"",transition:"0.2s"},key:r,"data-time":t[r].time,onClick:this.handleClick.bind(this)},t[r].monthDate+1)):this.props.setUnavailableDate?n.push(s.a.createElement(Y,{selected:this.props.date.indexOf(parseInt(t[r].time))>-1,setDate:this.props.setDate,time:t[r].time,date:this.props.date,key:t[r].time,monthDate:t[r].monthDate+1,firstClick:this.state.firstClick})):n.push(s.a.createElement("div",{className:"text-center pointer",style:{width:"70px",color:t[r].select?"white":"black",background:t[r].select?"#FE9000":"",transition:"0.2s"},key:r,"data-time":t[r].time,onClick:this.handleClick.bind(this)},t[r].monthDate+1)):n.push(s.a.createElement("div",{className:"text-center",style:{width:"70px",color:"rgba(0,0,0)"},key:r}));return n}},{key:"handleNext",value:function(){this.state.dataIndicate<12&&(this.state.showMonth<11?this.setState({showMonth:this.state.showMonth+1,dataIndicate:this.state.dataIndicate+1,dateData:this.state.dateData.length/42-1===this.state.dataIndicate?this.addMonthDate(this.state.showYear,this.state.showMonth+1):this.state.dateData}):this.setState({showYear:this.state.showYear+1,showMonth:0,dataIndicate:this.state.dataIndicate+1,dateData:this.state.dateData.length/42-1===this.state.dataIndicate?this.addMonthDate(this.state.showYear+1,0):this.state.dateData}))}},{key:"handlePrev",value:function(){this.state.showMonth>0?this.setState({showMonth:this.state.showMonth-1,dataIndicate:this.state.dataIndicate-1}):this.setState({showYear:this.state.showYear-1,showMonth:11,dataIndicate:this.state.dataIndicate-1})}},{key:"handleClick",value:function(e){var t;if(this.state.firstClick)t=this.state.dateData.map(function(t){return t.time===parseInt(e.target.dataset.time)?Object(F.a)({},t,{select:!0}):Object(F.a)({},t,{select:!1})});else{var a=this.state.dateData.find(function(e){return!0===e.select});t=e.target.dataset.time>a.time?this.state.dateData.map(function(t){return t.time>=a.time&&t.time<=parseInt(e.target.dataset.time)?Object(F.a)({},t,{select:!0}):Object(F.a)({},t,{select:!1})}):e.target.dataset.time<a.time?this.state.dateData.map(function(t){return t.time<=a.time&&t.time>=parseInt(e.target.dataset.time)?Object(F.a)({},t,{select:!0}):Object(F.a)({},t,{select:!1})}):this.state.dateData}if(this.props.unavailableDate){var n=!0,r=!1,s=void 0;try{for(var l,o=t.filter(function(e){return e.select}).map(function(e){return e.time})[Symbol.iterator]();!(n=(l=o.next()).done);n=!0){var c=l.value;if(this.props.unavailableDate.indexOf(parseInt(c))>-1)return t=this.state.dateData.map(function(t){return t.time===parseInt(e.target.dataset.time)?Object(F.a)({},t,{select:!0}):Object(F.a)({},t,{select:!1})}),void this.setState({firstClick:!1,dateData:t})}}catch(i){r=!0,s=i}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}}this.props.setDate(t.filter(function(e){return e.select}).map(function(e){return e.time})),this.setState({firstClick:!this.state.firstClick,dateData:t})}},{key:"handleClear",value:function(){this.props.setDate([]);var e=this.state.dateData.map(function(e){return Object(F.a)({},e,{select:!1})});this.setState({firstClick:!0,dateData:e})}},{key:"render",value:function(){return s.a.createElement("div",{className:"shadow rounded"},s.a.createElement("header",null,s.a.createElement("h3",{className:"text-center d-flex justify-content-between"},s.a.createElement("span",{onClick:this.state.dataIndicate>0?this.handlePrev.bind(this):null,className:"pointer",style:{color:"#094074"}},s.a.createElement("i",{id:"prev",className:"fas fa-arrow-circle-left"})),"\xa0",this.state.showYear," ",J[this.state.showMonth],"\xa0",s.a.createElement("span",{onClick:this.handleNext.bind(this),className:"pointer",style:{color:"#094074"}},s.a.createElement("i",{id:"next",className:"fas fa-arrow-circle-right"})))),s.a.createElement("div",{className:"col-12 d-flex justify-content-around"},s.a.createElement("div",{className:"badge badge-info"},"SUN"),s.a.createElement("div",{className:"badge badge-info"},"MON"),s.a.createElement("div",{className:"badge badge-info"},"TUE"),s.a.createElement("div",{className:"badge badge-info"},"WED"),s.a.createElement("div",{className:"badge badge-info"},"THU"),s.a.createElement("div",{className:"badge badge-info"},"FRI"),s.a.createElement("div",{className:"badge badge-info"},"SAT")),s.a.createElement("div",{className:"col-12 d-flex flex-column"},s.a.createElement("div",{className:"d-flex justify-content-around"},this.createElem(this.state.dataIndicate).filter(function(e,t){return t<7})),s.a.createElement("div",{className:"d-flex justify-content-around"},this.createElem(this.state.dataIndicate).filter(function(e,t){return t>6&&t<14})),s.a.createElement("div",{className:"d-flex justify-content-around"},this.createElem(this.state.dataIndicate).filter(function(e,t){return t>13&&t<21})),s.a.createElement("div",{className:"d-flex justify-content-around"},this.createElem(this.state.dataIndicate).filter(function(e,t){return t>20&&t<28})),s.a.createElement("div",{className:"d-flex justify-content-around"},this.createElem(this.state.dataIndicate).filter(function(e,t){return t>27&&t<35})),s.a.createElement("div",{className:"d-flex justify-content-around"},this.createElem(this.state.dataIndicate).filter(function(e,t){return t>34&&t<42})),this.props.unselectable?s.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",background:"rgba(0,0,0,0)"}}):null),this.props.unselectable?"":s.a.createElement("div",{className:"btn btn-warning",onClick:this.handleClear.bind(this)},"clear"))}}]),t}(r.Component);var Z=Object(g.b)(function(e){return{date:e.date}},{setDate:I})(X),G=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"position-relative"},s.a.createElement("ul",{className:"slideshow"},s.a.createElement("li",null),s.a.createElement("li",null),s.a.createElement("li",null),s.a.createElement("li",null),s.a.createElement("li",null)),s.a.createElement("div",{className:"container shadow position-relative",style:{background:"rgba(255,255,255,0.8)",top:"2rem"}},s.a.createElement("div",{className:"jumbotron position-relative",style:{background:"rgba(0,0,0,0)"}},s.a.createElement("h1",{className:"display-3 text"},"RENT HOUSE"),s.a.createElement("p",{className:"lead"},"The best way to find a house and start a vacation"),s.a.createElement("div",{className:"row mx-auto"},s.a.createElement("div",{className:"col-md-1 d-md-block d-sm-none"}),s.a.createElement("div",{className:"col-md-5 col-xs-12"},s.a.createElement(z,null)),s.a.createElement("div",{className:"col-md-5 col-xs-12 rounded"},s.a.createElement("h2",{className:"text-center m-2"},"Select your day"),s.a.createElement(Z,null))))))}}]),t}(r.Component),V=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.sendSearch({distination:a.props.title,geometry:a.props.geometry}),a.props.getHouse("",{geometry:a.props.geometry,adult:1}),a.props.history.push("houses")},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"card",style:{cursor:"pointer"},onClick:this.handleClick},s.a.createElement("div",{className:"card-background",style:{backgroundImage:"url("+this.props.img+")"}},s.a.createElement("img",{className:"card-img-top",src:this.props.img,style:{opacity:0},alt:""})),s.a.createElement("div",{className:"card-img-overlay"},s.a.createElement("p",{className:"card-title text-center",style:{fontSize:"3rem",color:"#fff",fontWeight:"bolder",textShadow:"1px 1px 0 black"}},this.props.title)))}}]),t}(r.Component),$=Object(f.a)(Object(g.b)(null,{sendSearch:H,getHouse:U})(V)),K=a(40),Q=a.n(K),ee=a(41),te=a.n(ee),ae=a(42),ne=a.n(ae),re=function(){return s.a.createElement("div",{className:"position-relative",style:{top:"70px"}},s.a.createElement(G,null),s.a.createElement("br",null),s.a.createElement("div",{className:"container mx-auto position-relative shadow"},s.a.createElement("h1",{className:"mt-3 m-3 p-2"},"Top City"),s.a.createElement("hr",null),s.a.createElement("div",{className:"card-deck p-2"},s.a.createElement($,{img:Q.a,title:"New York",geometry:{lat:40.697403,lng:-74.1201069}}),s.a.createElement($,{img:te.a,title:"London",geometry:{lat:51.5285578,lng:-.2420232}}),s.a.createElement($,{img:ne.a,title:"Taipei",geometry:{lat:25.0171605,lng:121.3659506}}))),s.a.createElement("br",null),s.a.createElement("br",null))},se=a(43),le=a.n(se),oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).responseFacebook=function(e){e.accessToken&&a.props.facebookAuth({email:e.email,username:e.name,profileImageUrl:e.picture.data.url,accessToken:e.accessToken}).then(a.props.history.push("/"))},a.componentClicked=function(){return console.log("clicked")},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(le.a,{appId:"235375220463729",autoLoad:!1,fields:"name,email,picture",callback:this.responseFacebook,buttonStyle:{width:"100%",height:"3rem",padding:0},textButton:this.props.text+" with facebook",icon:"fa-facebook-f"})}}]),t}(r.Component),ce=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.props.signUp?"signup":"signin";a.props.onAuth(t,a.state).then(function(e){e.username&&a.props.history.goBack()}).catch(function(){})},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.style={fontWeight:"700",fontSize:"calc(.27548vw + 12.71074px)",display:"inline-block",textTransform:"uppercase",height:"3rem",padding:0},a.state={email:"",username:"",password:"",profileImageUrl:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.heading,a=e.errors,n=e.signUp,r=e.history,l=e.removeError;return r.listen(function(){l()}),s.a.createElement("div",{className:"col-md-6 mx-auto",style:{position:"relative",top:"70px"}},s.a.createElement("h1",{className:"text-center"},t),a.message&&s.a.createElement("div",{className:"alert alert-danger"},a.message),s.a.createElement("form",{className:"col-md-9 mx-auto col-sm-12",onSubmit:this.handleSubmit.bind(this)},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"Email"},"Email address"),s.a.createElement("input",{name:"email",type:"email",className:"form-control",id:"Email",placeholder:"Enter email",onChange:this.handleChange,value:this.state.email}),s.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),n?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"Username"},"username"),s.a.createElement("input",{name:"username",type:"text",className:"form-control",id:"Username",placeholder:"Enter email",onChange:this.handleChange,value:this.state.username})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"ProfileImageUrl"},"profileImageUrl"),s.a.createElement("input",{name:"profileImageUrl",type:"text",className:"form-control",id:"ProfileImageUrl",placeholder:"Enter email",onChange:this.handleChange,value:this.state.profileImageUrl}))):"",s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"Password"},"Password"),s.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"Password",placeholder:"Password",onChange:this.handleChange,value:this.state.password})),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{type:"submit",className:"btn btn-success form-control",style:this.style},"Submit")),s.a.createElement("div",{className:"form-group"},s.a.createElement(oe,{text:this.props.signUp?"signUp":"login",facebookAuth:this.props.facebookAuth,history:this.props.history}))))}}]),t}(r.Component),ie=a(86),me=a(60),ue=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleLogout",value:function(){this.props.logout&&this.props.logout()}},{key:"render",value:function(){return s.a.createElement("div",{className:"collapse navbar-collapse justify-content-end",id:"Dropdown"},s.a.createElement("ul",{className:"navbar-nav",style:{color:"#fff"}},s.a.createElement("li",{className:"nav-item",style:{marginLeft:"1rem"}},s.a.createElement(ie.a,{exact:!0,className:"nav-link",to:"/houses"},s.a.createElement("i",{className:"fas fa-search"})," search")),this.props.currentUser.isAuthenticated?s.a.createElement(s.a.Fragment,null,s.a.createElement("li",{className:"nav-item",style:{marginLeft:"1rem"}},s.a.createElement(ie.a,{exact:!0,className:"nav-link",to:"/".concat(this.props.currentUser.user.id,"/house/new")},s.a.createElement("i",{className:"fas fa-home"})," Land")),s.a.createElement("li",{className:"nav-item",style:{marginLeft:"1rem"}},s.a.createElement(ie.a,{exact:!0,className:"nav-link",to:"/user"},s.a.createElement("i",{className:"fas fa-user"})," User")),s.a.createElement("li",{className:"nav-item",style:{marginLeft:"1rem"}},s.a.createElement(me.a,{className:"nav-link",to:"/",onClick:this.handleLogout.bind(this)},s.a.createElement("i",{className:"fas fa-sign-out-alt"})," Log Out"))):s.a.createElement(s.a.Fragment,null,s.a.createElement("li",{className:"nav-item",style:{marginLeft:"1rem"}},s.a.createElement(ie.a,{exact:!0,className:"nav-link",to:"/signup"},s.a.createElement("i",{className:"fas fa-book"})," signup")),s.a.createElement("li",{className:"nav-item",style:{marginLeft:"1rem"}},s.a.createElement(ie.a,{exact:!0,className:"nav-link",to:"/signin"},s.a.createElement("i",{className:"fas fa-book"})," signin")))))}}]),t}(r.Component),de=Object(g.b)(null,{logout:function(){return function(e){localStorage.clear(),x(!1),e(C({}))}}})(ue),he=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{className:"back_purple position-fixed",style:{width:"100%",zIndex:100}},s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},s.a.createElement(ie.a,{className:"navbar-brand",to:"/"},s.a.createElement("h2",{style:{color:"#fff"}},s.a.createElement("i",{className:"fas fa-home"}),"Rent House")),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#Dropdown"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement(de,this.props)))}}]),t}(r.Component);var pe=Object(g.b)(function(e){return{currentUser:e.currentUser}},null)(he),Ee=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(me.a,{to:"/houses/"+this.props.house._id,target:"_blank"},s.a.createElement("div",{className:"card border shadow",onClick:this.handleClick},s.a.createElement("div",{className:"card-background",style:{backgroundImage:"url("+this.props.house.image+")"}},s.a.createElement("img",{className:"card-img-top",src:this.props.house.image,style:{opacity:0},alt:""})),s.a.createElement("div",{className:"card-body"},s.a.createElement("h4",{className:"card-title text-center",style:{fontWeight:"bolder"}},this.props.house.name),s.a.createElement("ul",{className:"list-group list-group-flush"},s.a.createElement("li",{className:"list-group-item"},"Address: ",this.props.house.address),s.a.createElement("li",{className:"list-group-item"},"Price: ",this.props.house.price)))))}}]),t}(r.Component),fe=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return function(e){var t=[];return e&&(t=e.map(function(e,t){return s.a.createElement(Ee,{key:t,house:e})})),t}(this.props.houses)}}]),t}(r.Component),ge=a(14),be=a.n(ge),ve=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={position:"absolute",width:160,height:160,left:-80,top:-160,border:"5px solid #f44336",backgroundColor:"white",textAlign:"center",color:"#3f51b5",fontSize:14,fontWeight:"bold",padding:2,cursor:"pointer"};return s.a.createElement("div",{style:{position:"relative"},onClick:this.props.handle},s.a.createElement("div",{className:"pin1"}),this.props.$hover?s.a.createElement("div",{style:e},this.props.name,s.a.createElement("div",null,s.a.createElement("img",{src:this.props.img,style:{width:"100%",height:"100%",maxHeight:"60px"},alt:""}))):null)}}]),t}(r.Component),ye=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.getHouse("",Object(F.a)({},this.props.search,{date:Object(A.a)(this.props.date)})),this.props.clearSelect()}},{key:"render",value:function(){return s.a.createElement("div",{className:"row m-0 position-relative",style:{top:"70px"}},s.a.createElement("div",{className:"col-12 back_deepblue d-flex justify-content-between p-3 position-fixed",style:{color:"#fff",fontSize:"1rem",zIndex:100}},s.a.createElement("span",null,"distination:  ",this.props.search.distination?this.props.search.distination:"ALL"),s.a.createElement("div",null,s.a.createElement("span",null,"checkin: ",this.props.search.begin?this.props.search.begin:"Not select")," ",s.a.createElement("br",null),s.a.createElement("span",null,"checkout: ",this.props.search.end?this.props.search.end:"Not select")),s.a.createElement("div",null,s.a.createElement("span",null,"adult: ",this.props.search.adult?this.props.search.adult:1)," ",s.a.createElement("br",null),s.a.createElement("span",null,"child: ",this.props.search.child?this.props.search.child:0))),s.a.createElement("div",{className:"row m-0 position-relative",style:{top:"90px"}},s.a.createElement("div",{className:"d-none d-md-block col-md-3 position-fixed",style:{zIndex:"120",background:"#fff",transition:"0.5s"}},s.a.createElement(z,null),s.a.createElement(Z,null)),s.a.createElement("div",{className:"d-none d-md-block col-md-3"}),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"row justify-content-center"},this.props.houses.loading?s.a.createElement("div",{className:"lds-facebook"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null)):s.a.createElement("div",{className:"card-columns",style:{minHeight:"80vh"}},s.a.createElement(fe,{houses:this.props.houses.data}))),s.a.createElement("hr",null),"next page"),s.a.createElement("div",{className:"col-md-3 d-none d-md-block "}),s.a.createElement("div",{className:"col-md-3 position-fixed d-none d-md-block ",style:{right:0,height:"80vh"}},s.a.createElement(be.a,{defaultCenter:{lat:25.0171194,lng:121.4710123},center:this.props.houses.data.length>0?this.props.houses.data[0].geometry:{lat:25.0171194,lng:121.4710123},defaultZoom:10},this.props.houses.data?this.props.houses.data.map(function(e){return s.a.createElement(ve,{key:e._id,lat:e.geometry.lat,lng:e.geometry.lng,name:e.name,img:e.image,text:""})}):""))))}}]),t}(r.Component),Ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){var e=Object(P.a)(R.a.mark(function e(t){var n,r,s;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(a.state.address,"&key=AIzaSyAjQDTCdLCWo2JBZiosUYNEox7R92t_Ts4")).then(function(e){return e.json()}).then(function(e){return e.results[0].geometry.location});case 3:n=e.sent,r=a.props.currentUser.user.id,s=Object(F.a)({},a.state,{unavailableDate:a.props.date,geometry:n}),a.props.addHouse(s,r).then(function(e){e.name&&(a.props.setDate([]),a.props.history.push("/Houses"))});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.state={name:"",address:"",image:"",price:0,accommodate:2,description:"",unavailableDate:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.sendSearch([])}},{key:"render",value:function(){var e=this.props,t=e.errors,a=e.history,n=e.removeError;return a.listen(function(){n()}),s.a.createElement("div",{className:"container",style:{position:"relative",top:"90px"}},t.message&&s.a.createElement("div",{className:"alert alert-danger"},t.message),s.a.createElement("h1",null,"Post House"),s.a.createElement("div",{className:"row"},s.a.createElement("form",{className:"col-12 border shadow row",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"HouseName"},"House Name"),s.a.createElement("input",{type:"text",className:"form-control",id:"HouseName",name:"name",placeholder:"House Name",value:this.state.name,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"address"},"Address"),s.a.createElement("input",{type:"text",className:"form-control",id:"address",placeholder:"Address",name:"address",value:this.state.address,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"picture"},"Image Url"),s.a.createElement("input",{type:"text",className:"form-control",id:"picture",placeholder:"Image Url",name:"image",value:this.state.image,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"price"},"Price"),s.a.createElement("input",{type:"number",className:"form-control",id:"price",placeholder:"Price",name:"price",value:this.state.price,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"accommodate"},"accommodate"),s.a.createElement("input",{type:"number",className:"form-control",id:"price",placeholder:"Price",name:"accommodate",value:this.state.accommodate,onChange:this.handleChange})),s.a.createElement("div",{className:"from-group"},s.a.createElement("label",{htmlFor:"description"},"Description"),s.a.createElement("textarea",{className:"form-control",id:"description",rows:"4",name:"description",value:this.state.description,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"mt-3 mb-2"},s.a.createElement("h3",{className:"text-center"},"Not Available Date"),s.a.createElement(Z,{setUnavailableDate:!0})),s.a.createElement("img",{src:this.state.image,alt:"",style:{width:"100%"}})),s.a.createElement("div",{className:"from-group col-12 mb-3 mt-2"},s.a.createElement("button",{type:"submit",className:"btn btn-primary mt-2 form-control"},"Submit")))))}}]),t}(r.Component),Oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){if(e.preventDefault(),parseInt(a.state.adult)+parseInt(a.state.child)>a.props.select.accommodate)a.setState({error:"too many people"});else{var t={email:a.state.email,phone:a.state.phone,houseId:a.props.select._id,houseOwner:a.props.select.owner._id,date:a.props.date,specialRequest:a.state.specialRequest,accommodate:{adult:a.state.adult,child:a.state.child},price:a.props.select.price*a.props.date.length};v("post","".concat(y,"api/order/").concat(a.props.currentUser.user.id,"/new"),t).then(function(e){e.customer?a.setState({finish:!0}):(console.log(e),console.log("some thing wrong"))}).catch(function(e){return console.log(e),a.setState({error:e.error.message}),e})}},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.handleSelect=function(){a.state.same?a.setState({same:!1,email:""}):a.setState({same:!0,email:a.props.currentUser.user.email})},a.handleLeave=function(){a.props.sendSearch({}),a.props.clearSelect(),a.props.setDate([])},a.handleClear=function(){a.props.clearSelect()},a.handleStopPropagation=function(e){e.stopPropagation()},a.state={finish:!1,email:"",phone:"",same:!1,specialRequest:"",adult:1,child:0,error:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({error:""})}},{key:"componentWillUnmount",value:function(){this.props.clearSelect()}},{key:"render",value:function(){return s.a.createElement("div",{className:"row container mx-auto position-relative",style:{top:"40px",background:"#fff"},onClick:this.handleStopPropagation},s.a.createElement("button",{className:"btn btn-danger rounded",style:{position:"absolute",right:0},onClick:this.handleClear},"X"),s.a.createElement("div",{className:"col-12"},s.a.createElement("h1",{className:"text-center"},this.props.select.name),s.a.createElement("hr",null)),this.state.error&&s.a.createElement("div",{className:"alert alert-danger col-12",style:{zIndex:10,top:0,width:"100vw"}},this.state.error),this.state.finish?s.a.createElement("div",{style:{width:"100vw",height:"100vh",position:"fixed",zIndex:"200",display:"flex",background:"rgba(0,0,0,0.6)",justifyContent:"center",left:0,top:0,fontSize:"1.2rem",fontWeight:"bolder",alignItems:"center"}},s.a.createElement("div",{className:"text-center",style:{fontSize:"2rem",color:"#fff"}},"success ",s.a.createElement("br",null),s.a.createElement(me.a,{to:"/",onClick:this.handleLeave},s.a.createElement("span",{className:"btn btn-info"},"back home page"))," ",s.a.createElement("br",null),s.a.createElement(me.a,{to:"/user",onClick:this.handleLeave},s.a.createElement("span",{className:"btn btn-secondary"},"see my order")))):"",s.a.createElement("div",{className:"col-md-10 mx-auto"},s.a.createElement("div",{className:"text-center",style:{fontSize:"2rem",fontWeight:"bolder"}},"PRICE: ",this.props.select.price*this.props.date.length," ",s.a.createElement("br",null),"TOTAL ",this.props.date.length," NIGHT ",s.a.createElement("br",null),"ACCOMMODATE ",parseInt(this.state.adult)+parseInt(this.state.child)," / ",this.props.select.accommodate),s.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"Email"},"Email Address"),s.a.createElement("span",{className:"float-right"},s.a.createElement("input",{type:"checkbox",id:"CheckSame",onChange:this.handleSelect,checked:this.state.same}),s.a.createElement("label",{className:"form-check-label",htmlFor:"CheckSame"},"Same as My account")),s.a.createElement("input",{name:"email",type:"email",className:"form-control",id:"Email",placeholder:"Enter email",onChange:this.handleChange,value:this.state.email,readOnly:this.state.same})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"Phone"},"Phone Number"),s.a.createElement("input",{name:"phone",type:"text",className:"form-control",id:"Phone",placeholder:"Phone Number",onChange:this.handleChange,value:this.state.phone})),s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"adultNum"},"Adult"),s.a.createElement("select",{className:"form-control",id:"adultNum",name:"adult",onChange:this.handleChange,value:this.state.adult},s.a.createElement("option",null,"1"),s.a.createElement("option",null,"2"),s.a.createElement("option",null,"3"),s.a.createElement("option",null,"4"),s.a.createElement("option",null,"5"),s.a.createElement("option",null,"6"))),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"childrenNum"},"Child"),s.a.createElement("select",{className:"form-control",id:"childrenNum",name:"child",onChange:this.handleChange},s.a.createElement("option",null,"0"),s.a.createElement("option",null,"1"),s.a.createElement("option",null,"2"),s.a.createElement("option",null,"3"),s.a.createElement("option",null,"4"),s.a.createElement("option",null,"5"),s.a.createElement("option",null,"6")))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"Phone"},"Special Request"),s.a.createElement("textarea",{name:"specialRequest",type:"text",className:"form-control",id:"specialRequest",placeholder:"Special Request",onChange:this.handleChange,value:this.state.specialRequest})),s.a.createElement("div",null,s.a.createElement(Z,{unavailableDate:this.props.select.unavailableDate})),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{type:"submit",className:"btn btn-success form-control mt-2"},"SEND OREDR")))))}}]),t}(r.Component),we=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"clearfix p-2",style:{width:"100%",fontSize:"1rem",fontWeight:"bold",height:"15vh",minHeight:"120px"}},s.a.createElement("img",{className:"float-left rounded-circle mr-3",src:this.props.user.profileImageUrl,style:{width:"75px",maxHeight:"75px"},alt:""}),s.a.createElement("div",null,"name: ",this.props.user.username," ",s.a.createElement("br",null),"email: ",this.props.user.email))}}]),t}(r.Component),ke=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.comment;return s.a.createElement("div",{className:"m-2",style:{display:"flex",justifyContent:"space-around"}},s.a.createElement("div",null,s.a.createElement("img",{className:"rounded-circle m-2",style:{width:"75px",height:"75px",background:"#fff"},src:e.user.profileImageUrl,alt:""})),s.a.createElement("div",{className:"m-2",style:{fontSize:"1rem",display:"flex",width:"80%",justifyContent:"space-between",alignItems:"center"}},s.a.createElement("p",null,e.text),s.a.createElement("p",null,"rate: ",e.rank)))}}]),t}(r.Component),je=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleClear=function(){a.props.clearSelect()},a.handleOrder=function(){a.props.selectHouse(a.state.house)},a.handleStopPropagation=function(e){e.stopPropagation()},a.state={house:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;v("get","".concat(y,"api/house/").concat(this.props.match.params.id)).then(function(t){e.setState({house:t})})}},{key:"render",value:function(){return this.state.house?s.a.createElement("div",{className:"row mx-auto container position-relative",style:{top:"90px"},onClick:this.handleStopPropagation},s.a.createElement("div",{className:"col-12"},s.a.createElement("h1",{style:{fontWeight:"bolder"}},this.state.house.name),s.a.createElement("h6",null,this.state.house.address)),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{style:{width:"100%",maxHeight:"50vh"},src:this.state.house.image,alt:""})),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{style:{width:"100%",minHeight:"300px",height:"100%"}},s.a.createElement(be.a,{center:this.state.house.geometry,defaultZoom:17},s.a.createElement(ve,{lat:this.state.house.geometry.lat,lng:this.state.house.geometry.lng,name:this.state.house.name,img:this.state.house.image,text:""})))),s.a.createElement("div",{className:"col-md-12 text-center",style:{fontSize:"1.2rem"}},s.a.createElement("div",{className:"m-2",style:{minHeight:"20vh"}},s.a.createElement("h3",null,"description"),s.a.createElement("hr",null),this.state.house.description)),s.a.createElement("div",{className:"col-md-8 m-0 text-center"},s.a.createElement("h3",null,"Landlord"),s.a.createElement("hr",null),s.a.createElement(we,{user:this.state.house.owner}),s.a.createElement("h3",null,"comments"),s.a.createElement("hr",null),this.state.house.comments.map(function(e){return s.a.createElement(ke,{key:e._id,comment:e})})),s.a.createElement("div",{className:"col-md-4 m-0 text-center"},s.a.createElement("h3",null,"UnavailableDate"),s.a.createElement("hr",null),s.a.createElement(Z,{unavailableDate:this.state.house.unavailableDate,unselectable:!0})),s.a.createElement("button",{className:"btn btn-success m-3 rounded",style:{width:"100%",fontSize:"1.2rem",fontWeight:"bolder"},onClick:this.handleOrder},"Reserve (price:",this.state.house.price," /night)"),s.a.createElement("div",{style:{position:"fixed",zIndex:this.props.select.name?"200":"-1",background:"rgba(0,0,0,0.5)",transition:"0.3s",width:"100vw",height:this.props.select.name?"100vh":0,opacity:this.props.select.name?1:0,top:0,left:0,overflow:"scroll"}},s.a.createElement(Oe,this.props))):s.a.createElement("h1",null,"not found")}}]),t}(r.Component);var Ce=Object(g.b)(function(e){return{select:e.select,date:e.date,currentUser:e.currentUser}},{clearSelect:M,selectHouse:_,sendSearch:H,setDate:I})(je),xe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleShowMore=function(){e.setState({show:!e.state.show})},e.state={show:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.order,a=e.begin,n=e.end,r=e.handleCancelOrder,l=new Date;return this.props.userControl?s.a.createElement("div",{className:"col-12 m-1 pt-2 pb-2 rounded border",style:l>this.props.lastDay?{opacity:"0.5"}:{}},s.a.createElement("span",{style:{fontSize:"1.5vw"},onClick:this.handleShowMore},"ORDERNUMBER: ",t._id),"  ",s.a.createElement("br",null),s.a.createElement("span",{style:{fontSize:"1.2vw"}},"from:",a," afternoon to:",n," morning"),s.a.createElement("hr",null),this.state.show?s.a.createElement("div",{className:"clearfix",style:{fontSize:"1.2vw",transition:"0.2s"}},"customerName: ",t.customer.username," ",s.a.createElement("br",null),"customerPhone: ",t.customerPhone," ",s.a.createElement("br",null),"customerEmail: ",t.customerEmail," ",s.a.createElement("br",null),"accommodate: adult: ",t.accommodate.adult," \xa0 child: ",t.accommodate.child," ",s.a.createElement("br",null),"specialRequest: ",t.specialRequest," ",s.a.createElement("br",null),s.a.createElement("span",{style:{color:"red"}},"TOTAL \xa0 ",s.a.createElement("span",{style:{fontWeight:"bolder"}},t.date.length)," \xa0 NIGHT ",s.a.createElement("br",null)),s.a.createElement("span",{style:{color:"red"}}," TOTAL PRICE: ",t.house.price*t.date.length),s.a.createElement("div",{className:"btn btn-secondary rounded float-right","data-id":t._id,onClick:this.handleShowMore},this.state.show?"show less":"show more")):s.a.createElement("div",{className:"btn btn-secondary rounded","data-id":t._id,onClick:this.handleShowMore},this.state.show?"show less":"show more")):s.a.createElement("div",{className:"col-12 m-1 pt-2 pb-2 rounded border",style:l>this.props.lastDay?{opacity:"0.5"}:{}},s.a.createElement("h2",{style:{fontWeight:"bold"}},t.house.name," ",s.a.createElement("span",{style:{fontSize:"0.8rem"}},"ORDERNUMBER: ",t._id)),s.a.createElement("hr",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:this.state.show?"col-md-6 col-12":"col-sm-4 col-6",style:{transition:"0.5s"}},s.a.createElement("img",{className:"card-img shadow",style:{maxHeight:"50vh"},src:t.house.image,alt:""})),s.a.createElement("div",{className:this.state.show?"col-md-6 col-12":"",style:{maxHeight:"50vh",minHeight:"200px"}},s.a.createElement(be.a,{center:this.props.order.house.geometry,defaultZoom:17},s.a.createElement(ve,{lat:this.props.order.house.geometry.lat,lng:this.props.order.house.geometry.lng,text:""}))),s.a.createElement("div",{className:this.state.show?"col-12":"col-sm-8 col-6"},this.state.show?s.a.createElement("div",{className:"row",style:{fontSize:"2vw"}},s.a.createElement("div",{className:"col-6"},"customerName: ",t.customer.username," ",s.a.createElement("br",null),"customerPhone: ",t.customerPhone," ",s.a.createElement("br",null),"customerEmail: ",t.customerEmail," ",s.a.createElement("br",null),"adult: ",t.accommodate.adult," \xa0 child: ",t.accommodate.child," ",s.a.createElement("br",null),"specialRequest: ",t.specialRequest," ",s.a.createElement("br",null)),s.a.createElement("div",{className:"col-6"},"ADDRESS: ",t.house.address," ",s.a.createElement("br",null),a," to ",n," ",s.a.createElement("br",null),"TOTAL ",t.date.length," NIGHT ",s.a.createElement("br",null),"OwnerName: ",t.houseOwner.username," ",s.a.createElement("br",null),"OwnerEmail: ",t.houseOwner.email," ",s.a.createElement("br",null),s.a.createElement("span",{style:{float:"right"}},"TOTAL PRICE: ",t.house.price*t.date.length," ",s.a.createElement("br",null)))):s.a.createElement("div",{style:{fontSize:"2vw"}},s.a.createElement("div",null,"from:",s.a.createElement("br",null),a," afternoon ",s.a.createElement("br",null),"to:",s.a.createElement("br",null),n," morning")),this.state.show?s.a.createElement("div",{className:"d-flex p-0 justify-content-between col-12"},s.a.createElement("div",{className:"btn btn-info",onClick:this.handleShowMore},"show less"),l<this.props.lastDay&&s.a.createElement("div",{className:"btn btn-danger","data-id":t._id,onClick:r},"cancel")):s.a.createElement("div",{className:"btn btn-info","data-id":t._id,onClick:this.handleShowMore},"show more"))))}}]),t}(r.Component),Se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleClear=function(){a.props.clearSelect()},a.handleOrder=function(){a.props.selectHouse(a.state.house)},a.handleStopPropagation=function(e){e.stopPropagation()},a.state={house:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;v("get","".concat(y,"api/user/").concat(this.props.currentUser.user.id,"/house/").concat(this.props.match.params.id)).then(function(t){e.setState({house:t})})}},{key:"render",value:function(){return this.state.house?s.a.createElement("div",{className:"row mx-auto position-relative",style:{top:"90px"},onClick:this.handleStopPropagation},s.a.createElement("div",{className:"col-12 text-center"},s.a.createElement("h1",{style:{fontWeight:"bolder"}},this.state.house.name),s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("img",{style:{width:"100%",maxHeight:"50vh"},src:this.state.house.image,alt:""}),s.a.createElement("h6",null,this.state.house.address),s.a.createElement("div",{className:"m-2",style:{minHeight:"20vh"}},s.a.createElement("h3",null,"description"),s.a.createElement("hr",null),this.state.house.description,s.a.createElement("h3",null,"UnavailableDate"),s.a.createElement("hr",null),s.a.createElement(Z,{unavailableDate:this.state.house.unavailableDate,unselectable:!0}))),s.a.createElement("div",{className:"col-md-9 row",style:{fontSize:"1.2rem"}},s.a.createElement("div",{className:"col-md-8 m-0"},s.a.createElement("h3",{className:"text-center"},"Orders")," ",s.a.createElement("hr",null),this.state.house.orders.map(function(e){var t=new Date(e.date[0]),a=new Date(e.date[e.date.length-1]+864e5),n="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()),r="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate());return s.a.createElement(xe,{key:e._id,begin:n,end:r,order:e,lastDay:a,userControl:!0})})),s.a.createElement("div",{className:"col-md-4 m-0 text-center"},s.a.createElement("h3",null,"Comments"),s.a.createElement("hr",null),this.state.house.comments.map(function(e){return s.a.createElement(ke,{key:e._id,comment:e})}),s.a.createElement("div",{style:{width:"100%",minHeight:"300px",height:"100%",maxHeight:"600px"}},s.a.createElement(be.a,{center:this.state.house.geometry,defaultZoom:17},s.a.createElement(ve,{lat:this.state.house.geometry.lat,lng:this.state.house.geometry.lng,name:this.state.house.name,img:this.state.house.image,text:""})))))):s.a.createElement("h1",null,"not found")}}]),t}(r.Component);var De=Object(g.b)(function(e){return{select:e.select,date:e.date,currentUser:e.currentUser}},{clearSelect:M,selectHouse:_})(Se),Ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleCancelOrder=function(e){v("delete","".concat(y,"api/order/").concat(a.props.currentUser.user.id,"/").concat(e.target.dataset.id)).then(function(e){if(e._id){var t=a.props.orders.filter(function(t){return t._id!==e._id});a.props.updateUserOrders(t)}})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.props.orders.map(function(t){var a=new Date(t.date[0]),n=new Date(t.date[t.date.length-1]+864e5),r="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()),l="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate());return t.house?s.a.createElement(xe,{key:t._id,begin:r,end:l,order:t,lastDay:n,handleCancelOrder:e.handleCancelOrder}):s.a.createElement("div",{key:t._id,className:"col-12"},s.a.createElement("div",{className:"row m-1 pt-2 pb-2 rounded",style:{border:"1px solid red"}},s.a.createElement("div",{className:"col-sm-3 col-6"},s.a.createElement("img",{className:"card-img shadow",src:t.houseOwner.profileImageUrl,alt:""})),s.a.createElement("div",{className:"col-sm-9 col-6"},s.a.createElement("h4",null,"House had been removed"),"phouse owner contact",s.a.createElement("br",null),"email:",t.houseOwner.email,s.a.createElement("br",null),"name:",t.houseOwner.username,s.a.createElement("div",{className:"m-2 p-1"},s.a.createElement("span",{className:"float-right d-inline-block"},"from : ",r," to ",l,s.a.createElement("div",{className:"btn btn-danger","data-id":t._id,onClick:e.handleCancelOrder},"cancel"))))))})}}]),t}(r.Component),Ie=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState(Object(L.a)({},t.target.name,t.target.value))},e.handleSubmitComment=function(t){t.preventDefault();var a={houseId:e.props.house._id,comment:e.state.comment,orderId:e.props.orderId,rank:e.state.rank};v("post","".concat(y,"api/comment/").concat(e.props.userId,"/new"),a).then(function(t){if(t._id){var a=Object(A.a)(e.props.comments).concat([t]),n=e.props.orders.map(function(t){return t._id===e.props.orderId&&(t.rank=e.state.rank),t});e.props.updateUserComments(a),e.props.updateUserOrders(n)}})},e.state={comment:"",rank:0},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"col-12 mt-1 p-0",style:this.props.show===this.props.orderId?{transition:"0.2s",transformOrigin:"top"}:{height:0,transform:"scaleY(0)",transition:"0.2s"}},s.a.createElement("h3",null,"comment ",s.a.createElement("button",{className:"btn btn-danger float-right rounded",style:{display:"block"},onClick:this.props.handleShowCommetFrom,"data-id":""},"X")),s.a.createElement("form",{onSubmit:this.handleSubmitComment},s.a.createElement("textarea",{rows:"10",style:{boxSize:"border-box",width:"100%"},name:"comment",onChange:this.handleChange,id:"",value:this.state.comment}),s.a.createElement("div",null,s.a.createElement("h1",null,"rate :",this.state.rank),s.a.createElement("input",{type:"range",name:"rank",onChange:this.handleChange,value:this.state.rank,min:"1",max:"100"}),s.a.createElement("button",{type:"submit",className:"btn btn-success float-right",style:{display:"block"}},"comment"))))}}]),t}(r.Component),_e=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleRemoveComment=function(t){v("delete","".concat(y,"api/comment/").concat(e.props.currentUser.user.id,"/").concat(t.target.dataset.id)).then(function(t){if(t._id){console.log(t);var a=e.props.comments.filter(function(e){return e._id!==t._id}),n=e.props.orders.map(function(e){return t.order===e._id&&(e.rank=null),e});e.props.updateUserComments(a),e.props.updateUserOrders(n)}})},e.handleShowCommetFrom=function(t){e.setState({show:t.target.dataset.id})},e.state={show:""},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return function(){var t=e.props.comments.map(function(t){return s.a.createElement("div",{key:t._id,className:"col-12"},s.a.createElement("div",{className:"row m-1 pt-2 pb-2 border rounded"},s.a.createElement("div",{className:"col-sm-4 col-6"},s.a.createElement("img",{className:"card-img shadow",src:t.house.image,alt:""})),s.a.createElement("div",{className:"col-sm-8 col-6"},s.a.createElement("h4",null,t.house.name),s.a.createElement("h4",null,t.text,"\xa0"),s.a.createElement("div",{className:"m-2 p-1"},s.a.createElement("div",{className:"btn btn-danger","data-id":t._id,onClick:e.handleRemoveComment},"DELETE")))))}),a=e.props.orders.map(function(t){var a=new Date(t.date[0]),n=new Date(t.date[t.date.length-1]+864e5),r="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()),l="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),o=new Date;return!t.rank&&o>n?s.a.createElement("div",{key:t._id,className:"col-12"},s.a.createElement("div",{className:"row m-1 pt-2 pb-2 border rounded"},s.a.createElement("div",{className:"col-sm-4 col-6"},s.a.createElement("img",{className:"card-img shadow",src:t.house.image,alt:""})),s.a.createElement("div",{className:"col-sm-8 col-6"},s.a.createElement("h4",null,t.house.name),s.a.createElement("div",{className:"m-2 p-1"},"from : ",r," afternoon to ",l," morning"),e.state.show!==t._id&&s.a.createElement("div",{className:"btn btn-success","data-id":t._id,onClick:e.handleShowCommetFrom},"comment")),s.a.createElement("div",{className:"col-12 row mx-auto",style:{width:"100%"}},s.a.createElement(Ie,{house:t.house,userId:e.props.currentUser.user.id,orderId:t._id,updateUserComments:e.props.updateUserComments,updateUserOrders:e.props.updateUserOrders,comments:e.props.comments,orders:e.props.orders,show:e.state.show,handleShowCommetFrom:e.handleShowCommetFrom})))):null});return s.a.createElement("div",null,a,t)}()}}]),t}(r.Component),Me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleRemoveHouse=function(e){v("delete","".concat(y,"api/user/").concat(a.props.currentUser.user.id,"/house/").concat(e.target.dataset.id)).then(function(e){if(e._id){var t=a.props.houses.filter(function(t){return t._id!==e._id});a.props.updateUserHouses(t)}})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.props.houses.map(function(t){return s.a.createElement("div",{key:t._id,className:"col-12"},s.a.createElement("div",{className:"row m-1 pt-2 pb-2 border rounded"},s.a.createElement("div",{className:"col-sm-4 col-6"},s.a.createElement("img",{className:"card-img shadow",src:t.image,alt:""})),s.a.createElement("div",{className:"col-sm-8 col-6"},s.a.createElement("h4",null,t.name,"\xa0"),"Address: ",t.address," ",s.a.createElement("br",null),"Price: $",t.price,s.a.createElement("div",{className:"m-2 p-1"},s.a.createElement(me.a,{to:"/user/".concat(e.props.currentUser.user.id,"/houses/").concat(t._id),target:"_blank"},s.a.createElement("div",{className:"btn btn-info"},"SHOW MORE"))))))})}}]),t}(r.Component),He=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handlePageChange=function(e){a.setState({page:e.target.innerText})},a.handleModeChange=function(e){a.setState({mode:e.target.dataset.mode,page:"customer"===e.target.dataset.mode?"order":"house"})},a.state={page:"order",mode:"customer"},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;v("get","".concat(y,"api/user/").concat(this.props.currentUser.user.id,"/")).then(function(t){e.props.updateUserHouses(t.houses),e.props.updateUserOrders(t.orders),e.props.updateUserComments(t.comments)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"row mx-auto container shadow",style:{position:"relative",fontWeight:"bolder",top:"90px"}},s.a.createElement("div",{className:"container row m-2"},s.a.createElement("div",{className:"col-md-3 col-4"},s.a.createElement("img",{src:this.props.currentUser.user.profileImageUrl,style:{minWidth:"100px",maxWidth:"200px",width:"100%"},alt:""}),s.a.createElement("div",{className:"text-center"},"(",this.state.mode,")")),s.a.createElement("div",{className:"col-md-9 col-8"},s.a.createElement("h1",null,"HEllO ",this.props.currentUser.user.username),"email: ",this.props.currentUser.user.email,s.a.createElement("div",{className:"d-flex",style:{width:"100%",flexDirection:"column"}},s.a.createElement("div",{className:"btn btn-info m-1","data-mode":"customer",onClick:this.handleModeChange},"CUSTOME MODE"),s.a.createElement("div",{className:"btn btn-warning m-1","data-mode":"host",onClick:this.handleModeChange},"HOST MODE")))),s.a.createElement("nav",{className:"nav nav-tabs",id:"nav-tab",role:"tablist",style:{width:"100%",fontSize:"1rem"}},"customer"===this.state.mode?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"nav-item nav-link active","data-toggle":"tab",onClick:this.handlePageChange},"order"),s.a.createElement("div",{className:"nav-item nav-link","data-toggle":"tab",onClick:this.handlePageChange},"comment")):s.a.createElement("div",{className:"nav-item nav-link active","data-toggle":"tab",onClick:this.handlePageChange},"house")),"customer"===this.state.mode?s.a.createElement("main",{style:{width:"100%",minHeight:"80vh"}},"order"===this.state.page?s.a.createElement(Ue,{orders:this.props.user.orders,currentUser:this.props.currentUser,updateUserOrders:this.props.updateUserOrders}):"","comment"===this.state.page?s.a.createElement(_e,{comments:this.props.user.comments,orders:this.props.user.orders,currentUser:this.props.currentUser,updateUserComments:this.props.updateUserComments,updateUserOrders:this.props.updateUserOrders}):""):s.a.createElement("main",{style:{width:"100%",minHeight:"80vh"}},"house"===this.state.page?s.a.createElement(Me,{houses:this.props.user.houses,currentUser:this.props.currentUser,updateUserHouses:this.props.updateUserHouses}):""))}}]),t}(r.Component);var Te=Object(f.a)(Object(g.b)(function(e){return{currentUser:e.currentUser,errors:e.errors,houses:e.houses,date:e.date,search:e.search,select:e.select,user:e.user}},{authUser:function(e,t){return function(a){return v("post","".concat(y,"api/auth/").concat(e),t).then(function(e){var t=e.token,n=Object(b.a)(e,["token"]);return localStorage.setItem("jwtToken",t),x(t),a(C(n)),a(j()),n}).catch(function(e){return console.log(e),a(k(e.error.message))})}},facebookAuth:function(e){return function(t){return v("post","".concat(y,"api/auth/authWithFacebook"),e).then(function(e){var a=e.token,n=Object(b.a)(e,["token"]);return localStorage.setItem("jwtToken",a),x(a),t(C(n)),t(j()),n}).catch(function(e){return console.log(e),e.error.message?t(k(e.error.message)):t(k(e))})}},removeError:j,addHouse:function(e,t){return function(a){return a(D(!0)),v("post","".concat(y,"api/user/").concat(t,"/house/new"),e).then(function(e){return a(D(!1)),e}).catch(function(e){return e.error?a(k(e.error.message)):a(k(e))})}},getHouse:U,setDate:I,loadHosues:S,selectHouse:_,clearSelect:M,sendSearch:H,updateUserHouses:function(e){return{type:"UPDATE_USER_HOUSE",houses:e}},updateUserOrders:function(e){return{type:"UPDATE_USER_ORDER",orders:e}},updateUserComments:function(e){return{type:"UPDATE_USER_COMMENT",comments:e}}})(function(e){var t=e.authUser,a=e.facebookAuth,n=e.errors,r=e.removeError,l=e.addHouse,o=e.getHouse,c=e.loadHosues,i=e.currentUser,m=e.houses,u=e.date,d=e.search,f=e.select,g=e.setDate,b=e.selectHouse,v=e.clearSelect,y=e.sendSearch,N=e.updateUserHouses,O=e.updateUserOrders,w=e.updateUserComments,k=e.user;return s.a.createElement(s.a.Fragment,null,s.a.createElement(pe,{currentUser:i}),s.a.createElement(h.a,null,s.a.createElement(p.a,{exact:!0,path:"/rent-house",render:function(){return s.a.createElement(E.a,{to:"/"})}}),s.a.createElement(p.a,{exact:!0,path:"/",render:function(e){return s.a.createElement(re,e)}}),s.a.createElement(p.a,{exact:!0,path:"/houses",render:function(e){return s.a.createElement(ye,Object.assign({search:d,date:u,getHouse:o,houses:m,clearSelect:v},e))}}),s.a.createElement(p.a,{exact:!0,path:"/houses/:id",render:function(e){return s.a.createElement(Ce,Object.assign({search:d,date:u,getHouse:o,houses:m,clearSelect:v},e))}}),s.a.createElement(p.a,{exact:!0,path:"/:id/house/new",render:function(e){return i.isAuthenticated?s.a.createElement(Ne,Object.assign({date:u,removeError:r,errors:n,currentUser:i,addHouse:l,setDate:g,sendSearch:y},e)):s.a.createElement(E.a,{to:"/signin"})}}),s.a.createElement(p.a,{exact:!0,path:"/signin",render:function(e){return s.a.createElement(ce,Object.assign({removeError:r,errors:n,onAuth:t,facebookAuth:a,buttonText:"Log in",heading:"Welcome Back."},e))}}),s.a.createElement(p.a,{exact:!0,path:"/signup",render:function(e){return s.a.createElement(ce,Object.assign({removeError:r,errors:n,onAuth:t,facebookAuth:a,buttonText:"sign up",heading:"Join Today.",signUp:!0},e))}}),s.a.createElement(p.a,{exact:!0,path:"/houses/order/:id",render:function(e){return i.isAuthenticated?f.name?s.a.createElement(Oe,Object.assign({date:u,removeError:r,errors:n,currentUser:i,select:f,selectHouse:b,clearSelect:v,sendSearch:y,setDate:g},e)):s.a.createElement(E.a,{to:"/houses"}):s.a.createElement(E.a,{to:"/signin"})}}),s.a.createElement(p.a,{exact:!0,path:"/user",render:function(e){return i.isAuthenticated?s.a.createElement(He,Object.assign({currentUser:i,houses:m,loadHosues:c,updateUserHouses:N,updateUserOrders:O,updateUserComments:w,user:k},e)):s.a.createElement(E.a,{to:"/signin"})}}),s.a.createElement(p.a,{exact:!0,path:"/user/:UserId/houses/:id",render:function(e){return i.user.id===e.match.params.UserId?s.a.createElement(De,Object.assign({search:d,date:u,getHouse:o,houses:m,clearSelect:v},e)):s.a.createElement(E.a,{to:"/signin"})}})))})),Re=a(16),Ae=a(44),Fe={isAuthenticated:!1,user:{}};var Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return{data:[],loading:t.loading};case"LOAD_HOUSES":return{data:t.houses,loading:!1};default:return e}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{houses:[],orders:[],comments:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER_HOUSE":return Object(F.a)({},e,{houses:t.houses});case"UPDATE_USER_ORDER":return Object(F.a)({},e,{orders:t.orders});case"UPDATE_USER_COMMENT":return Object(F.a)({},e,{comments:t.comments});default:return e}},We=Object(Re.c)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{isAuthenticated:!!Object.keys(t.user).length,user:t.user};default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ERROR":return Object(F.a)({},e,{message:t.error});case"REMOVE_ERROR":return Object(F.a)({},e,{message:null});default:return e}},date:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return t.date;default:return e}},houses:Pe,search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.searchKeys;default:return e}},select:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_HOUSE":return Object(F.a)({},t.house);case"CLEAR_SELECT":return{};default:return e}},user:Le}),ze=Object(Re.e)(We,Object(Re.d)(Object(Re.a)(Ae.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),Ye=a(87),qe=a(26),Be=a.n(qe);if(localStorage.jwtToken){x(localStorage.jwtToken);try{ze.dispatch(C(Be()(localStorage.jwtToken)))}catch(Xe){ze.dispatch(C({}))}}var Je=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){localStorage.jwtToken&&function(e){return v("get","".concat(y).concat(e))}(Be()(localStorage.jwtToken).id).then(function(e){console.log(e)}).catch(function(e){localStorage.clear(),ze.dispatch(C({})),x(!1),console.log(e)})}},{key:"render",value:function(){return s.a.createElement(g.a,{store:ze},s.a.createElement(Ye.a,null,s.a.createElement(Te,null)))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(82);o.a.render(s.a.createElement(Je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,2,1]]]);
//# sourceMappingURL=main.85d2d611.chunk.js.map